
<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"


        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="705128"
  data-user-uuid="1d6061a7-37d3-480f-9a5e-b99f25722898"
  data-username="ivinpolosony"
  data-account-type="Paid"

  data-activated-trial-date=""


  data-archive="9781617292231"
  data-publishers="Manning Publications"



  data-htmlfile-name="kindle_split_015.html"
  data-epub-title="Grokking Algorithms: An illustrated guide for programmers and other curious people" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"


        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="705128"
  data-user-uuid="1d6061a7-37d3-480f-9a5e-b99f25722898"
  data-username="ivinpolosony"
  data-account-type="Paid"

  data-activated-trial-date=""


  data-archive="9781617292231"
  data-publishers="Manning Publications"



  data-htmlfile-name="kindle_split_015.html"
  data-epub-title="Grokking Algorithms: An illustrated guide for programmers and other curious people" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9781617292231"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>Chapter 9. Dynamic programming - Grokking Algorithms: An illustrated guide for programmers and other curious people</title><link rel="stylesheet" href="/static/CACHE/css/8b111ded8b98.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.ef38b0457d7b.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    #sbo-rt-content .calibre{display:block;font-size:1em;margin-bottom:0;margin-left:5pt;margin-right:5pt;margin-top:0;padding-left:0;padding-right:0}#sbo-rt-content .calibre1{display:block;font-size:2em;font-weight:bold;line-height:1.2;margin-bottom:.67em;margin-left:0;margin-right:0;margin-top:.67em;text-align:center}#sbo-rt-content .calibre10{display:table-row-group;vertical-align:middle}#sbo-rt-content .calibre11{display:table-row;vertical-align:inherit}#sbo-rt-content .calibre12{display:block;font-family:"Liberation Mono",monospace;font-size:.77778em;margin-bottom:1em;margin-left:5px;margin-right:0;margin-top:1em;white-space:pre-wrap}#sbo-rt-content .calibre13{display:block;font-size:1.125em;font-weight:bold;line-height:1.2;margin-bottom:0;margin-left:0;margin-right:0;margin-top:40px}#sbo-rt-content .calibre14{display:block}#sbo-rt-content .calibre15{display:block;margin-bottom:1em;margin-left:1em;margin-right:1em;margin-top:1em}#sbo-rt-content .calibre16{display:block}#sbo-rt-content .calibre17{display:block;margin-bottom:1em;margin-left:0;margin-right:0;margin-top:1em}#sbo-rt-content .calibre18{display:block;list-style-type:disc;margin-bottom:1em;margin-right:0;margin-top:1em}#sbo-rt-content .calibre19{display:list-item}#sbo-rt-content .calibre2{height:auto;width:auto}#sbo-rt-content .calibre20{font-weight:bold}#sbo-rt-content .calibre21{font-family:"Liberation Mono",monospace}#sbo-rt-content .calibre22{display:block;font-weight:bold;margin-bottom:0;margin-left:0;margin-right:0;margin-top:30px}#sbo-rt-content .calibre23{display:table-column-group}#sbo-rt-content .calibre24{display:table-cell;padding-bottom:1px;padding-left:1px;padding-right:1px;padding-top:1px;text-align:inherit;vertical-align:inherit}#sbo-rt-content .calibre25{font-size:.75em;line-height:normal;vertical-align:sub}#sbo-rt-content .calibre26{font-size:.75em;line-height:normal;vertical-align:super}#sbo-rt-content .calibre27{display:block;list-style-type:decimal;margin-bottom:1em;margin-right:0;margin-top:1em}#sbo-rt-content .calibre28{font-size:smaller;line-height:normal;vertical-align:super}#sbo-rt-content .calibre29{font-size:.75em}#sbo-rt-content .calibre3{font-family:"Times";line-height:1.2}#sbo-rt-content .calibre30{font-size:.77778em;line-height:normal;vertical-align:super}#sbo-rt-content .calibre31{font-size:.71429em}#sbo-rt-content .calibre4{font-family:"Times"}#sbo-rt-content .calibre5{display:block;font-family:"Liberation Mono",monospace;font-size:.75em;margin-bottom:1em;margin-left:5px;margin-right:0;margin-top:1em;white-space:pre-wrap}#sbo-rt-content .calibre6{font-style:italic}#sbo-rt-content .calibre7{border-collapse:separate;border-spacing:2px;display:table;margin-bottom:0;margin-top:0;text-indent:0}#sbo-rt-content .calibre8{display:table-column-group;text-align:left}#sbo-rt-content .calibre9{display:table-column}#sbo-rt-content .center{display:block;font-weight:bold;margin-bottom:0;margin-left:0;margin-right:0;margin-top:30px;text-align:center}#sbo-rt-content .center1{display:block;margin-bottom:1em;margin-left:0;margin-right:0;margin-top:1em;text-align:center}#sbo-rt-content .docTableCell{display:table-cell;font-size:.75em;padding-bottom:1px;padding-left:1px;padding-right:1px;padding-top:1px;text-align:left;vertical-align:inherit}#sbo-rt-content .ind{display:block;margin-bottom:8px;margin-right:0;margin-top:0;text-align:left;text-indent:0}#sbo-rt-content .noind{display:block;margin-bottom:1em;margin-left:0;margin-right:0;margin-top:25px;text-indent:0}#sbo-rt-content .noindclose{display:block;margin-bottom:1em;margin-left:0;margin-right:0;margin-top:1em;text-indent:0}#sbo-rt-content .notetitle{display:block;font-size:.75em;font-weight:bold;margin-bottom:0;margin-left:0;margin-right:0;margin-top:2px}#sbo-rt-content .part{display:block;font-size:1.41667em;font-weight:bold;line-height:1.2;margin-bottom:0;margin-left:0;margin-right:0;margin-top:.83em}#sbo-rt-content .smaller{display:block;font-size:.75em;margin-bottom:1em;margin-left:1em;margin-right:1em;margin-top:1em}#sbo-rt-content .toc{display:block;margin-bottom:1em;margin-left:15px;margin-right:1em;margin-top:15px;text-indent:0}
    </style><style type="text/css" title="ibis-book">
    @page{margin-bottom:5pt;margin-top:5pt}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {

          "chapter": "/api/v1/book/9781617292231/chapter/kindle_split_015.html",
          "book_id": "9781617292231",
          "chapter_uri": "kindle_split_015.html",
          "position": 68.0167160021,
          "user_uuid": "1d6061a7-37d3-480f-9a5e-b99f25722898",
          "next_chapter_uri": "/library/view/grokking-algorithms-an/9781617292231/kindle_split_016.html"

      },
      title: "Grokking Algorithms: An illustrated guide for programmers and other curious people",
      author_list: "Aditya Y. Bhargava",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false,
      show_ios_app_teaser: false
    };
    // ]]></script><script src="/static/js/src/modernizr.js"></script><script>


       window.PUBLIC_ANNOTATIONS = false;


      window.MOBILE_PUBLIC_ANNOTATIONS = false;




      window.PRIVACY_CONTROL_OVERRIDE = false;



      window.PRIVACY_CONTROL_SWITCH = true;



      window.PUBLISHER_PAGES = true;


      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "https://www.safaribooksonline.com/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://www.safaribooksonline.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html"/><meta name="description" content="Chapter 9. Dynamic programming In this chapter You learn dynamic programming, a technique to solve a hard problem by breaking it up into subproblems and solving those subproblems first. Using ... "><meta property="og:title" content="Chapter 9. Dynamic programming" /><meta itemprop="isPartOf" content="/library/view/grokking-algorithms-an/9781617292231/" /><meta itemprop="name" content="Chapter 9. Dynamic programming" /><meta property="og:url" itemprop="url" content="https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://www.safaribooksonline.com/library/cover/9781617292231/" /><meta property="og:description" itemprop="description" content="Chapter 9. Dynamic programming In this chapter You learn dynamic programming, a technique to solve a hard problem by breaking it up into subproblems and solving those subproblems first. Using ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="Manning Publications" /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9781617292231" /><meta property="og:book:author" itemprop="author" content="Aditya Y. Bhargava" /><meta property="og:book:tag" itemprop="about" content="Core Programming" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><script>
    window.ENABLE_BOWERBIRD_COLLECTIONS = true;
  </script><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }


    ga('create', 'UA-39299553-7', {'userId': '1d6061a7-37d3-480f-9a5e-b99f25722898' });




      ga('set', 'dimension1', 'Paid');



  ga('set', 'dimension6', user_uuid);


    ga('set', 'dimension2', '1d6061a7-37d3-480f-9a5e-b99f25722898');







  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
  </script><script defer src="/static/js/build/vendor.e2e622a103f9.js"></script><script defer src="/static/js/build/reader.3f99a7fe8e91.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">



  <noscript>
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>





      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">






<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>Safari Home Icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 9.9L4 9.9 4 18 16 18 16 9.9 10 4 4 9.9ZM2.6 8.1L2.6 8.1 8.7 1.9 10 0.5 11.3 1.9 17.4 8.1 18 8.7 18 9.5 18 18.1 18 20 16.1 20 3.9 20 2 20 2 18.1 2 9.5 2 8.7 2.6 8.1Z"/><rect x="10" y="12" width="3" height="7"/><rect transform="translate(18.121320, 10.121320) rotate(-315.000000) translate(-18.121320, -10.121320) " x="16.1" y="9.1" width="4" height="2"/><rect transform="translate(2.121320, 10.121320) scale(-1, 1) rotate(-315.000000) translate(-2.121320, -10.121320) " x="0.1" y="9.1" width="4" height="2"/></g></svg><span>Safari Home</span></a></li><li><a href="/r/" class="t-recommendations-nav l0 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recommendations icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M50 25C50 18.2 44.9 12.5 38.3 11.7 37.5 5.1 31.8 0 25 0 18.2 0 12.5 5.1 11.7 11.7 5.1 12.5 0 18.2 0 25 0 31.8 5.1 37.5 11.7 38.3 12.5 44.9 18.2 50 25 50 31.8 50 37.5 44.9 38.3 38.3 44.9 37.5 50 31.8 50 25ZM25 3.1C29.7 3.1 33.6 6.9 34.4 11.8 30.4 12.4 26.9 15.1 25 18.8 23.1 15.1 19.6 12.4 15.6 11.8 16.4 6.9 20.3 3.1 25 3.1ZM34.4 15.6C33.6 19.3 30.7 22.2 27.1 22.9 27.8 19.2 30.7 16.3 34.4 15.6ZM22.9 22.9C19.2 22.2 16.3 19.3 15.6 15.6 19.3 16.3 22.2 19.2 22.9 22.9ZM3.1 25C3.1 20.3 6.9 16.4 11.8 15.6 12.4 19.6 15.1 23.1 18.8 25 15.1 26.9 12.4 30.4 11.8 34.4 6.9 33.6 3.1 29.7 3.1 25ZM22.9 27.1C22.2 30.7 19.3 33.6 15.6 34.4 16.3 30.7 19.2 27.8 22.9 27.1ZM25 46.9C20.3 46.9 16.4 43.1 15.6 38.2 19.6 37.6 23.1 34.9 25 31.3 26.9 34.9 30.4 37.6 34.4 38.2 33.6 43.1 29.7 46.9 25 46.9ZM27.1 27.1C30.7 27.8 33.6 30.7 34.4 34.4 30.7 33.6 27.8 30.7 27.1 27.1ZM38.2 34.4C37.6 30.4 34.9 26.9 31.3 25 34.9 23.1 37.6 19.6 38.2 15.6 43.1 16.4 46.9 20.3 46.9 25 46.9 29.7 43.1 33.6 38.2 34.4Z"/></g></svg><span>Recommended</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
                 Playlists
              </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/tutorials/" class="l1 nav-icn t-tutorials-nav js-toggle-menu-item None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>tutorials icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.8 18.2C15.8 18.2 15.9 18.2 16 18.2 16.1 18.2 16.2 18.2 16.4 18.2 16.5 18.2 16.7 18.1 16.9 18 17 17.9 17.1 17.8 17.2 17.7 17.3 17.6 17.4 17.5 17.4 17.4 17.5 17.2 17.6 16.9 17.6 16.7 17.6 16.6 17.6 16.5 17.6 16.4 17.5 16.2 17.5 16.1 17.4 15.9 17.3 15.8 17.2 15.6 17 15.5 16.8 15.3 16.6 15.3 16.4 15.2 16.2 15.2 16 15.2 15.8 15.2 15.7 15.2 15.5 15.3 15.3 15.4 15.2 15.4 15.1 15.5 15 15.7 14.9 15.8 14.8 15.9 14.7 16 14.7 16.1 14.6 16.3 14.6 16.4 14.6 16.5 14.6 16.6 14.6 16.6 14.6 16.7 14.6 16.9 14.6 17 14.6 17.1 14.7 17.3 14.7 17.4 14.8 17.6 15 17.7 15.1 17.9 15.2 18 15.3 18 15.5 18.1 15.5 18.1 15.6 18.2 15.7 18.2 15.7 18.2 15.7 18.2 15.8 18.2L15.8 18.2ZM9.4 11.5C9.5 11.5 9.5 11.5 9.6 11.5 9.7 11.5 9.9 11.5 10 11.5 10.2 11.5 10.3 11.4 10.5 11.3 10.6 11.2 10.8 11.1 10.9 11 10.9 10.9 11 10.8 11.1 10.7 11.2 10.5 11.2 10.2 11.2 10 11.2 9.9 11.2 9.8 11.2 9.7 11.2 9.5 11.1 9.4 11 9.2 10.9 9.1 10.8 8.9 10.6 8.8 10.5 8.7 10.3 8.6 10 8.5 9.9 8.5 9.7 8.5 9.5 8.5 9.3 8.5 9.1 8.6 9 8.7 8.8 8.7 8.7 8.8 8.6 9 8.5 9.1 8.4 9.2 8.4 9.3 8.2 9.5 8.2 9.8 8.2 10 8.2 10.1 8.2 10.2 8.2 10.3 8.2 10.5 8.3 10.6 8.4 10.7 8.5 10.9 8.6 11.1 8.7 11.2 8.9 11.3 9 11.4 9.1 11.4 9.2 11.4 9.3 11.5 9.3 11.5 9.3 11.5 9.4 11.5 9.4 11.5L9.4 11.5ZM3 4.8C3.1 4.8 3.1 4.8 3.2 4.8 3.4 4.8 3.5 4.8 3.7 4.8 3.8 4.8 4 4.7 4.1 4.6 4.3 4.5 4.4 4.4 4.5 4.3 4.6 4.2 4.6 4.1 4.7 4 4.8 3.8 4.8 3.5 4.8 3.3 4.8 3.1 4.8 3 4.8 2.9 4.7 2.8 4.7 2.6 4.6 2.5 4.5 2.3 4.4 2.2 4.2 2.1 4 1.9 3.8 1.9 3.6 1.8 3.5 1.8 3.3 1.8 3.1 1.8 2.9 1.8 2.7 1.9 2.6 2 2.4 2.1 2.3 2.2 2.2 2.3 2.1 2.4 2 2.5 2 2.6 1.8 2.8 1.8 3 1.8 3.3 1.8 3.4 1.8 3.5 1.8 3.6 1.8 3.8 1.9 3.9 2 4 2.1 4.2 2.2 4.4 2.4 4.5 2.5 4.6 2.6 4.7 2.7 4.7 2.8 4.7 2.9 4.8 2.9 4.8 3 4.8 3 4.8 3 4.8L3 4.8ZM13.1 15.2C13.2 15.1 13.2 15.1 13.2 15.1 13.3 14.9 13.4 14.7 13.6 14.5 13.8 14.2 14.1 14 14.4 13.8 14.7 13.6 15.1 13.5 15.5 13.4 15.9 13.4 16.3 13.4 16.7 13.5 17.2 13.5 17.6 13.7 17.9 13.9 18.2 14.1 18.5 14.4 18.7 14.7 18.9 15 19.1 15.3 19.2 15.6 19.3 15.9 19.4 16.1 19.4 16.4 19.4 17 19.3 17.5 19.1 18.1 19 18.3 18.9 18.5 18.7 18.7 18.5 19 18.3 19.2 18 19.4 17.7 19.6 17.3 19.8 16.9 19.9 16.6 20 16.3 20 16 20 15.8 20 15.6 20 15.4 19.9 15.4 19.9 15.4 19.9 15.4 19.9 15.2 19.9 15 19.8 14.9 19.8 14.8 19.7 14.7 19.7 14.6 19.7 14.4 19.6 14.3 19.5 14.1 19.3 13.7 19.1 13.4 18.7 13.2 18.4 13.1 18.1 12.9 17.8 12.9 17.5 12.8 17.3 12.8 17.1 12.8 16.9L3.5 14.9C3.3 14.9 3.1 14.8 3 14.8 2.7 14.7 2.4 14.5 2.1 14.3 1.7 14 1.4 13.7 1.2 13.3 1 13 0.9 12.6 0.8 12.3 0.7 12 0.7 11.7 0.7 11.4 0.7 11 0.8 10.5 1 10.1 1.1 9.8 1.3 9.5 1.6 9.2 1.8 8.9 2.1 8.7 2.4 8.5 2.8 8.3 3.2 8.1 3.6 8.1 3.9 8 4.2 8 4.5 8 4.6 8 4.8 8 4.9 8.1L6.8 8.5C6.8 8.4 6.8 8.4 6.8 8.4 6.9 8.2 7.1 8 7.2 7.8 7.5 7.5 7.7 7.3 8 7.1 8.4 6.9 8.7 6.8 9.1 6.7 9.5 6.7 10 6.7 10.4 6.8 10.8 6.8 11.2 7 11.5 7.2 11.8 7.5 12.1 7.7 12.4 8 12.6 8.3 12.7 8.6 12.8 8.9 12.9 9.2 13 9.4 13 9.7 13 9.7 13 9.8 13 9.8 13.6 9.9 14.2 10.1 14.9 10.2 15 10.2 15 10.2 15.1 10.2 15.3 10.2 15.4 10.2 15.6 10.2 15.8 10.1 16 10 16.2 9.9 16.4 9.8 16.5 9.6 16.6 9.5 16.8 9.2 16.9 8.8 16.9 8.5 16.9 8.3 16.9 8.2 16.8 8 16.8 7.8 16.7 7.7 16.6 7.5 16.5 7.3 16.3 7.2 16.2 7.1 16 7 15.9 6.9 15.8 6.9 15.7 6.9 15.6 6.8 15.5 6.8L6.2 4.8C6.2 5 6 5.2 5.9 5.3 5.7 5.6 5.5 5.8 5.3 6 4.9 6.2 4.5 6.4 4.1 6.5 3.8 6.6 3.5 6.6 3.2 6.6 3 6.6 2.8 6.6 2.7 6.6 2.6 6.6 2.6 6.5 2.6 6.5 2.5 6.5 2.3 6.5 2.1 6.4 1.8 6.3 1.6 6.1 1.3 6 1 5.7 0.7 5.4 0.5 5 0.3 4.7 0.2 4.4 0.1 4.1 0 3.8 0 3.6 0 3.3 0 2.8 0.1 2.2 0.4 1.7 0.5 1.5 0.7 1.3 0.8 1.1 1.1 0.8 1.3 0.6 1.6 0.5 2 0.3 2.3 0.1 2.7 0.1 3.1 0 3.6 0 4 0.1 4.4 0.2 4.8 0.3 5.1 0.5 5.5 0.8 5.7 1 6 1.3 6.2 1.6 6.3 1.9 6.4 2.3 6.5 2.5 6.6 2.7 6.6 3 6.6 3 6.6 3.1 6.6 3.1 9.7 3.8 12.8 4.4 15.9 5.1 16.1 5.1 16.2 5.2 16.4 5.2 16.7 5.3 16.9 5.5 17.2 5.6 17.5 5.9 17.8 6.2 18.1 6.5 18.3 6.8 18.4 7.2 18.6 7.5 18.6 7.9 18.7 8.2 18.7 8.6 18.7 9 18.6 9.4 18.4 9.8 18.3 10.1 18.2 10.3 18 10.6 17.8 10.9 17.5 11.1 17.3 11.3 16.9 11.6 16.5 11.8 16 11.9 15.7 12 15.3 12 15 12 14.8 12 14.7 12 14.5 11.9 13.9 11.8 13.3 11.7 12.6 11.5 12.5 11.7 12.4 11.9 12.3 12 12.1 12.3 11.9 12.5 11.7 12.7 11.3 12.9 10.9 13.1 10.5 13.2 10.2 13.3 9.9 13.3 9.6 13.3 9.4 13.3 9.2 13.3 9 13.2 9 13.2 9 13.2 9 13.2 8.8 13.2 8.7 13.2 8.5 13.1 8.2 13 8 12.8 7.7 12.6 7.4 12.4 7.1 12 6.8 11.7 6.7 11.4 6.6 11.1 6.5 10.8 6.4 10.6 6.4 10.4 6.4 10.2 5.8 10.1 5.2 9.9 4.5 9.8 4.4 9.8 4.4 9.8 4.3 9.8 4.1 9.8 4 9.8 3.8 9.8 3.6 9.9 3.4 10 3.2 10.1 3 10.2 2.9 10.4 2.8 10.5 2.6 10.8 2.5 11.1 2.5 11.5 2.5 11.6 2.5 11.8 2.6 12 2.6 12.1 2.7 12.3 2.8 12.5 2.9 12.6 3.1 12.8 3.2 12.9 3.3 13 3.5 13.1 3.6 13.1 3.7 13.1 3.8 13.2 3.9 13.2L13.1 15.2 13.1 15.2Z"/></g></svg><span>Tutorials</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/1d6061a7-37d3-480f-9a5e-b99f25722898/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" version="1.1" fill="#4A3C31"><desc>highlights icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13.325 18.071L8.036 18.071C8.036 11.335 12.36 7.146 22.5 5.594L22.5 0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35 15.545 35 19.578 31.485 19.578 26.184 19.578 21.556 17.211 18.891 13.325 18.071L13.325 18.071ZM40.825 18.071L35.565 18.071C35.565 11.335 39.86 7.146 50 5.594L50 0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35 43.045 35 47.078 31.485 47.078 26.184 47.078 21.556 44.74 18.891 40.825 18.071L40.825 18.071Z"/></g></svg><span>Highlights</span></a></li><li><a href="/u/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.safaribooksonline.com/public/support" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.safaribooksonline.com/public/support" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>


      </div>
      <div id="container" class="application">

          <div class="nav-container clearfix">





          </div>



  <div class="js-toc">

      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>

      Grokking Algorithms: An illustrated guide for programmers and other curious people

    </h1></span></a><div class="toc-contents"></div></section></div>



    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9781617292231/chapter/kindle_split_015.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"

        href="https://twitter.com/share?url=https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html&text=Grokking%20Algorithms%3A%20An%20illustrated%20guide%20for%20programmers%20and%20other%20curious%20people&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"

        href="mailto:?subject=Safari: Chapter%209.%20Dynamic%20programming&body=https://www.safaribooksonline.com/library/view/grokking-algorithms-an/9781617292231/kindle_split_015.html%0D%0Afrom Grokking%20Algorithms%3A%20An%20illustrated%20guide%20for%20programmers%20and%20other%20curious%20people%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    <section role="document">





 <!--[if lt IE 9]>

<![endif]-->



  <script defer src="/static/js/build/djangoMessagesPage.893631b34e7a.js"></script>



      <div class="t-sbo-prev sbo-prev sbo-nav-top">



        <a href="/library/view/grokking-algorithms-an/9781617292231/kindle_split_014.html" class="prev nav-link">

          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Chapter 8. Greedy algorithms</div>
        </a>


  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">



        <a href="/library/view/grokking-algorithms-an/9781617292231/kindle_split_016.html" class="next nav-link">

          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">Chapter 10. K-nearest neighbors</div>
        </a>


  </div>



<div id="sbo-rt-content" class="calibre"><h2 id="ch09" class="part">Chapter 9. <a id="ch09__title" class="calibre3"></a>Dynamic programming
      </h2>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/common.jpg" alt="" class="calibre2" width="134" height="148"></p>


      <p class="noind"><a id="iddle1137" class="calibre4"></a><a id="iddle1140" class="calibre4"></a><a id="iddle1149" class="calibre4"></a><a id="iddle1231" class="calibre4"></a><b class="calibre20">In this chapter</b></p>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">You learn dynamic programming, a technique to solve a hard problem by breaking it up into subproblems and solving those subproblems
            first.

         </li>

         <li class="calibre19">Using examples, you learn to how to come up with a dynamic programming solution to a new problem.

         </li>

      </ul>


      <h3 id="ch09lev1sec1" class="calibre13"><a id="ch09lev1sec1__title" class="calibre3"></a>The knapsack problem
      </h3>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/161fig01.jpg" alt="" class="calibre2" width="256" height="226"></p>


      <p class="noind">Let’s revisit the knapsack problem from <a href="kindle_split_014.html#ch08" class="calibre4">chapter 8</a>. You’re a thief with a knapsack that can carry 4 lb of goods.
      </p>

      <p class="noind"><a id="iddle1150" class="calibre4"></a><a id="iddle1232" class="calibre4"></a>You have three items that you can put into the knapsack.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/162fig01.jpg" alt="" class="calibre2" width="500" height="198"></p>


      <p class="noind">What items should you steal so that you steal the maximum money’s worth of goods?</p>


      <h4 id="ch09lev2sec1" class="calibre22"><a id="ch09lev2sec1__title" class="calibre4"></a>The simple solution
      </h4>

      <p class="noind">The simplest algorithm is this: you try every possible set of goods and find the set that gives you the most value.</p>

      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/162fig02_alt.jpg" alt="" class="calibre2" width="590" height="405"></p>

      <p class="noind">This works, but it’s really slow. For 3 items, you have to calculate 8 possible sets. For 4 items, you have to calculate 16
         sets. With every item you add, the number of sets you have to calculate doubles! This algorithm takes O(2^<i class="calibre6">n</i>) time, which is very, very slow.
      </p>




      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/163fig01.jpg" alt="" class="calibre2" width="500" height="278"></p>


      <p class="noind">That’s impractical for any reasonable number of goods. In <a href="kindle_split_014.html#ch08" class="calibre4">chapter 8</a>, you saw how to calculate an <i class="calibre6">approximate</i> solution. That solution will be close to the optimal solution, but it may not be the optimal solution.
      </p>

      <p class="noind">So how do you calculate the optimal solution?</p>



      <h4 id="ch09lev2sec2" class="calibre22"><a id="ch09lev2sec2__title" class="calibre4"></a>Dynamic programming
      </h4>

      <p class="noind">Answer: With dynamic programming! Let’s see how the dynamic-programming algorithm works here. Dynamic programming starts by
         solving subproblems and builds up to solving the big problem.
      </p>

      <p class="noind">For the knapsack problem, you’ll start by solving the problem for smaller knapsacks (or “sub-knapsacks”) and then work up
         to solving the original problem.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/163fig02.jpg" alt="" class="calibre2" width="290" height="208"></p>


      <p class="noind"><i class="calibre6">Dynamic programming is a hard concept, so don’t worry if you don’t get it right away.</i> We’re going to look at a lot of examples.
      </p>

      <p class="noind">I’ll start by showing you the algorithm in action first. After you’ve seen it in action once, you’ll have a lot of questions!
         I’ll do my best to address every question.
      </p>

      <p class="noind"><a id="iddle1144" class="calibre4"></a><a id="iddle1225" class="calibre4"></a>Every dynamic-programming algorithm starts with a grid. Here’s a grid for the knapsack problem.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/164fig01.jpg" alt="" class="calibre2" width="500" height="305"></p>


      <p class="noind">The rows of the grid are the items, and the columns are knapsack weights from 1 lb to 4 lb. You need all of those columns
         because they will help you calculate the values of the sub-knapsacks.
      </p>

      <p class="noind">The grid starts out empty. You’re going to fill in each cell of the grid. Once the grid is filled in, you’ll have your answer
         to this problem! Please follow along. Make your own grid, and we’ll fill it out together.
      </p>


      <h5 id="ch09lev3sec1" class="notetitle"><a id="ch09lev3sec1__title" class="calibre4"></a>The guitar row
      </h5>

      <p class="noind">I’ll show you the exact formula for calculating this grid later. Let’s do a walkthrough first. Start with the first row.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/164fig02.jpg" alt="" class="calibre2" width="295" height="177"></p>


      <p class="noind">This is the <i class="calibre6">guitar</i> row, which means you’re trying to fit the guitar into the knapsack. At each cell, there’s a simple decision: do you steal
         the guitar or not? Remember, you’re trying to find the set of items to steal that will give you the most value.
      </p>

      <p class="noind">The first cell has a knapsack of capacity 1 lb. The guitar is also 1 lb, which means it fits into the knapsack! So the value
         of this cell is $1,500, and it contains a guitar.
      </p>

      <p class="noind">Let’s start filling in the grid.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/165fig01.jpg" alt="" class="calibre2" width="349" height="212"></p>


      <p class="noind">Like this, each cell in the grid will contain a list of all the items that fit into the knapsack at that point.</p>

      <p class="noind">Let’s look at the next cell. Here you have a knapsack of capacity 2 lb. Well, the guitar will definitely fit in there!</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/165fig02.jpg" alt="" class="calibre2" width="349" height="215"></p>


      <p class="noind">The same for the rest of the cells in this row. Remember, this is the first row, so you have <i class="calibre6">only</i> the guitar to choose from. You’re pretending that the other two items aren’t available to steal right now.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/165fig03.jpg" alt="" class="calibre2" width="348" height="206"></p>


      <p class="noind">At this point, you’re probably confused. <i class="calibre6">Why</i> are you doing this for knapsacks with a capacity of 1 lb, 2 lb, and so on, when the problem talks about a 4 lb knapsack?
         Remember how I told you that dynamic programming starts with a small problem and builds up to the big problem? You’re solving
         subproblems here that will help you to solve the big problem. Read on, and things will become clearer.
      </p>

      <p class="noind"><a id="iddle1152" class="calibre4"></a><a id="iddle1234" class="calibre4"></a>At this point, your grid should look like this.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/166fig01.jpg" alt="" class="calibre2" width="349" height="210"></p>


      <p class="noind">Remember, you’re trying to maximize the value of the knapsack. <i class="calibre6">This row represents the current best guess for this max.</i> So right now, according to this row, if you had a knapsack of capacity 4 lb, the max value you could put in there would be
         $1,500.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/166fig02.jpg" alt="" class="calibre2" width="500" height="192"></p>


      <p class="noind">You know that’s not the final solution. As we go through the algorithm, you’ll refine your estimate.</p>



      <h5 id="ch09lev3sec2" class="notetitle"><a id="ch09lev3sec2__title" class="calibre4"></a>The stereo row
      </h5>

      <p class="noind">Let’s do the next row. This one is for the stereo. Now that you’re on the second row, you can steal the stereo or the guitar.
         At every row, you can steal the item at that row or the items in the rows above it. So you can’t choose to steal the laptop
         right now, but you can steal the stereo and/or the guitar. Let’s start with the first cell, a knapsack of capacity 1 lb. The
         current max value you can fit into a knapsack of 1 lb is $1,500.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/166fig03.jpg" alt="" class="calibre2" width="350" height="283"></p>


      <p class="noind">Should you steal the stereo or not?</p>

      <p class="noind">You have a knapsack of capacity 1 lb. Will the stereo fit in there? Nope, it’s too heavy! Because you can’t fit the stereo,
         $1,500 <i class="calibre6">remains</i> the max guess for a 1 lb knapsack.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/167fig01.jpg" alt="" class="calibre2" width="333" height="203"></p>


      <p class="noind">Same thing for the next two cells. These knapsacks have a capacity of 2 lb and 3 lb. The old max value for both was $1,500.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/167fig02.jpg" alt="" class="calibre2" width="377" height="209"></p>


      <p class="noind">The stereo still doesn’t fit, so your guesses remain unchanged.</p>

      <p class="noind">What if you have a knapsack of capacity 4 lb? Aha: the stereo finally fits! The old max value was $1,500, but if you put the
         stereo in there instead, the value is $3,000! Let’s take the stereo.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/167fig03.jpg" alt="" class="calibre2" width="382" height="209"></p>


      <p class="noind"><a id="iddle1147" class="calibre4"></a><a id="iddle1228" class="calibre4"></a>You just updated your estimate! If you have a 4 lb knapsack, you can fit at least $3,000 worth of goods in it. You can see
         from the grid that you’re incrementally updating your estimate.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/168fig01.jpg" alt="" class="calibre2" width="500" height="189"></p>




      <h5 id="ch09lev3sec3" class="notetitle"><a id="ch09lev3sec3__title" class="calibre4"></a>The laptop row
      </h5>

      <p class="noind">Let’s do the same thing with the laptop! The laptop weighs 3 lb, so it won’t fit into a 1 lb or a 2 lb knapsack. The estimate
         for the first two cells stays at $1,500.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/168fig02.jpg" alt="" class="calibre2" width="351" height="220"></p>


      <p class="noind">At 3 lb, the old estimate was $1,500. But you can choose the laptop instead, and that’s worth $2,000. So the new max estimate
         is $2,000!
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/168fig03.jpg" alt="" class="calibre2" width="351" height="220"></p>


      <p class="noind">At 4 lb, things get really interesting. This is an important part. The current estimate is $3,000. You can put the laptop
         in the knapsack, but it’s only worth $2,000.
      </p>




      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/169fig01.jpg" alt="" class="calibre2" width="401" height="96"></p>


      <p class="noind">Hmm, that’s not as good as the old estimate. But wait! The laptop weighs only 3 lb, so you have 1 lb free! You could put something
         in this 1 lb.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/169fig02.jpg" alt="" class="calibre2" width="500" height="105"></p>


      <p class="noind">What’s the maximum value you can fit into 1 lb of space? Well, you’ve been calculating it all along.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/169fig03.jpg" alt="" class="calibre2" width="471" height="263"></p>


      <p class="noind">According to the last best estimate, you can fit the guitar into that 1 lb space, and that’s worth $1,500. So the real comparison
         is as follows.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/169fig04.jpg" alt="" class="calibre2" width="500" height="99"></p>


      <p class="noind">You might have been wondering why you were calculating max values for smaller knapsacks. I hope now it makes sense! When you
         have space left over, you can use the answers to those subproblems to figure out what will fit in that space. It’s better
         to take the laptop + the guitar for $3,500.
      </p>

      <p class="noind">The final grid looks like this.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/170fig01.jpg" alt="" class="calibre2" width="424" height="284"></p>


      <p class="noind">There’s the answer: the maximum value that will fit in the knapsack is $3,500, made up of a guitar and a laptop!</p>

      <p class="noind">Maybe you think that I used a different formula to calculate the value of that last cell. That’s because I skipped some unnecessary
         complexity when filling in the values of the earlier cells. Each cell’s value gets calculated with the same formula. Here
         it is.
      </p>

      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/170fig02_alt.jpg" alt="" class="calibre2" width="590" height="110"></p>

      <p class="noind">You can use this formula with every cell in this grid, and you should end up with the same grid I did. Remember how I talked
         about solving subproblems? You combined the solutions to two subproblems to solve the bigger problem.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/170fig03.jpg" alt="" class="calibre2" width="500" height="229"></p>







      <h3 id="ch09lev1sec2" class="calibre13"><a id="ch09lev1sec2__title" class="calibre3"></a>Knapsack problem FAQ
      </h3>

      <p class="noind"><a id="iddle1142" class="calibre4"></a><a id="iddle1223" class="calibre4"></a>Maybe this still feels like magic. This section answers some common questions.
      </p>


      <h4 id="ch09lev2sec3" class="calibre22"><a id="ch09lev2sec3__title" class="calibre4"></a>What happens if you add an item?
      </h4>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/171fig01.jpg" alt="" class="calibre2" width="165" height="195"></p>


      <p class="noind">Suppose you realize there’s a fourth item you can steal that you didn’t notice before! You can also steal an iPhone.</p>

      <p class="noind">Do you have to recalculate everything to account for this new item? Nope. Remember, dynamic programming keeps progressively
         building on your estimate. So far, these are the max values.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/171fig02.jpg" alt="" class="calibre2" width="422" height="233"></p>


      <p class="noind">That means for a 4 lb knapsack, you can steal $3,500 worth of goods. You thought that was the final max value. But let’s add
         a row for the iPhone.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/171fig03.jpg" alt="" class="calibre2" width="500" height="348"></p>


      <p class="noind">Turns out you have a new max value! Try to fill in this new row before reading on.</p>

      <p class="noind">Let’s start with the first cell. The iPhone fits into the 1 lb knapsack. The old max was $1,500, but the iPhone is worth $2,000.
         Let’s take the iPhone instead.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/172fig01.jpg" alt="" class="calibre2" width="470" height="298"></p>


      <p class="noind">In the next cell, you can fit the iPhone <i class="calibre6">and</i> the guitar.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/172fig02.jpg" alt="" class="calibre2" width="289" height="252"></p>


      <p class="noind">For cell 3, you can’t do better than take the iPhone and the guitar again, so leave it as is.</p>

      <p class="noind">For the last cell, things get interesting. The current max is $3,500. You can steal the iPhone instead, and you have 3 lb
         of space left over.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/172fig03.jpg" alt="" class="calibre2" width="500" height="92"></p>


      <p class="noind"><a id="iddle1138" class="calibre4"></a>Those 3 lb are worth $2,000! $2,000 from the iPhone + $2,000 from the old subproblem: that’s $4,000. A new max!
      </p>

      <p class="noind">Here’s the new final grid.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/173fig01.jpg" alt="" class="calibre2" width="271" height="294"></p>


      <p class="noind">Question: Would the value of a column ever go <i class="calibre6">down</i>? Is this possible?
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/173fig02.jpg" alt="" class="calibre2" width="443" height="224"></p>


      <p class="noind">Think of an answer before reading on.</p>

      <p class="noind">Answer: No. At every iteration, you’re storing the current max estimate. The estimate can never get worse than it was before!</p>




      <h3 id="ch09lev1sec3" class="calibre13"><a id="ch09lev1sec3__title" class="calibre3"></a>Exercise
      </h3>

      <p class="calibre17"><a id="ch09qa1" class="calibre4"></a></p>
      <blockquote class="calibre15">
         <p class="calibre17"><a id="ch09qa1qe1" class="calibre4"></a></p>
         <p class="calibre17"><a id="ch09qa1q1" class="calibre4"></a><b class="calibre20">9.1 </b></p><p class="noind">Suppose you can steal another item: an MP3 player. It weighs 1 lb and is worth $1,000. Should you steal it?</p>
         <p class="calibre17"></p>
      </blockquote>



      <h4 id="ch09lev2sec4" class="calibre22"><a id="ch09lev2sec4__title" class="calibre4"></a>What happens if you change the order of the rows?
      </h4>

      <p class="noind"><a id="iddle1141" class="calibre4"></a><a id="iddle1143" class="calibre4"></a><a id="iddle1222" class="calibre4"></a><a id="iddle1224" class="calibre4"></a>Does the answer change? Suppose you fill the rows in this order: stereo, laptop, guitar. What does the grid look like? Fill
         out the grid for yourself before moving on.
      </p>

      <p class="noind">Here’s what the grid looks like.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/174fig01.jpg" alt="" class="calibre2" width="404" height="199"></p>


      <p class="noind">The answer doesn’t change. The order of the rows doesn’t matter.</p>



      <h4 id="ch09lev2sec5" class="calibre22"><a id="ch09lev2sec5__title" class="calibre4"></a>Can you fill in the grid column-wise instead of row-wise?
      </h4>

      <p class="noind">Try it for yourself! For this problem, it doesn’t make a difference. It could make a difference for other problems.</p>



      <h4 id="ch09lev2sec6" class="calibre22"><a id="ch09lev2sec6__title" class="calibre4"></a>What happens if you add a smaller item?
      </h4>

      <p class="noind">Suppose you can steal a necklace. It weighs 0.5 lb, and it’s worth $1,000. So far, your grid assumes that all weights are
         integers. Now you decide to steal the necklace. You have 3.5 lb left over. What’s the max value you can fit in 3.5 lb? You
         don’t know! You only calculated values for 1 lb, 2 lb, 3 lb, and 4 lb knapsacks. You need to know the value of a 3.5 lb knapsack.
      </p>

      <p class="noind"><i class="calibre6">Because of the necklace, you have to account for finer granularity, so the grid has to change.</i></p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/174fig02.jpg" alt="" class="calibre2" width="473" height="207"></p>





      <h4 id="ch09lev2sec7" class="calibre22"><a id="ch09lev2sec7__title" class="calibre4"></a>Can you steal fractions of an item?
      </h4>

      <p class="noind"><a id="iddle1148" class="calibre4"></a><a id="iddle1151" class="calibre4"></a><a id="iddle1229" class="calibre4"></a><a id="iddle1233" class="calibre4"></a>Suppose you’re a thief in a grocery store. You can steal bags of lentils and rice. If a whole bag doesn’t fit, you can open
         it and take as much as you can carry. So now it’s not all or nothing—you can take a fraction of an item. How do you handle
         this using dynamic programming?
      </p>

      <p class="noind">Answer: You can’t. With the dynamic-programming solution, you either take the item or not. There’s no way for it to figure
         out that you should take half an item.
      </p>

      <p class="noind">But this case is also easily solved using a greedy algorithm! First, take as much as you can of the most valuable item. When
         that runs out, take as much as you can of the next most valuable item, and so on.
      </p>

      <p class="noind">For example, suppose you have these items to choose from.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/175fig01.jpg" alt="" class="calibre2" width="374" height="127"></p>


      <p class="noind">Quinoa is more expensive per pound than anything else. So, take all the quinoa you can carry! If that fills your knapsack,
         that’s the best you can do.
      </p>

      <p class="noind">If the quinoa runs out and you still have space in your knapsack, take the next most valuable item, and so on.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/175fig02.jpg" alt="" class="calibre2" width="200" height="180"></p>




      <h4 id="ch09lev2sec8" class="calibre22"><a id="ch09lev2sec8__title" class="calibre4"></a>Optimizing your travel itinerary
      </h4>

      <p class="noind">Suppose you’re going to London for a nice vacation. You have two days there and a lot of things you want to do. You can’t
         do everything, so you make a list.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/175fig03.jpg" alt="" class="calibre2" width="475" height="237"></p>


      <p class="noind">For each thing you want to see, you write down how long it will take and rate how much you want to see it. Can you figure
         out what you should see, based on this list?
      </p>

      <p class="noind">It’s the knapsack problem again! Instead of a knapsack, you have a limited amount of time. And instead of stereos and laptops,
         you have a list of places you want to go. Draw the dynamic-programming grid for this list before moving on.
      </p>

      <p class="noind">Here’s what the grid looks like.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/176fig01.jpg" alt="" class="calibre2" width="361" height="227"></p>


      <p class="noind">Did you get it right? Fill in the grid. What places should you end up seeing? Here’s the answer.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/176fig02.jpg" alt="" class="calibre2" width="500" height="382"></p>





      <h4 id="ch09lev2sec9" class="calibre22"><a id="ch09lev2sec9__title" class="calibre4"></a>Handling items that depend on each other
      </h4>

      <p class="noind"><a id="iddle1146" class="calibre4"></a><a id="iddle1227" class="calibre4"></a>Suppose you want to go to Paris, so you add a couple of items on the list.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/177fig01.jpg" alt="" class="calibre2" width="366" height="103"></p>


      <p class="noind">These places take a lot of time, because first you have to travel from London to Paris. That takes half a day. If you want
         to do all three items, it will take four and a half days.
      </p>

      <p class="noind">Wait, that’s not right. You don’t have to travel to Paris for each item. Once you’re in Paris, each item should only take
         a day. So it should be one day per item + half a day of travel = 3.5 days, not 4.5 days.
      </p>

      <p class="noind">If you put the Eiffel Tower in your knapsack, then the Louvre becomes “cheaper”—it will only cost you a day instead of 1.5
         days. How do you model this in dynamic programming?
      </p>

      <p class="noind">You can’t. Dynamic programming is powerful because it can solve subproblems and use those answers to solve the big problem.
         <i class="calibre6">Dynamic programming only works when each subproblem is discrete—when it doesn’t depend on other subproblems.</i> That means there’s no way to account for Paris using the dynamic-programming algorithm.
      </p>



      <h4 id="ch09lev2sec10" class="calibre22"><a id="ch09lev2sec10__title" class="calibre4"></a>Is it possible that the solution will require more than two sub-knapsacks?
      </h4>

      <p class="noind">It’s possible that the best solution involves stealing more than two items. The way the algorithm is set up, you’re combining
         two knapsacks at most—you’ll never have more than two sub-knapsacks. But it’s possible for those sub-knapsacks to have their
         own sub-knapsacks.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/177fig02.jpg" alt="" class="calibre2" width="401" height="275"></p>





      <h4 id="ch09lev2sec11" class="calibre22"><a id="ch09lev2sec11__title" class="calibre4"></a>Is it possible that the best solution doesn’t fill the knapsack completely?
      </h4>

      <p class="noind"><a id="iddle1145" class="calibre4"></a><a id="iddle1153" class="calibre4"></a><a id="iddle1226" class="calibre4"></a>Yes. Suppose you could also steal a diamond.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/178fig01.jpg" alt="" class="calibre2" width="209" height="242"></p>


      <p class="noind">This is a big diamond: it weighs 3.5 pounds. It’s worth a million dollars, way more than anything else. You should definitely
         steal it! But there’s half a pound of space left, and nothing will fit in that space.
      </p>




      <h3 id="ch09lev1sec4" class="calibre13"><a id="ch09lev1sec4__title" class="calibre3"></a>Exercise
      </h3>

      <p class="calibre17"><a id="ch09qa2" class="calibre4"></a></p>
      <blockquote class="calibre15">
         <p class="calibre17"><a id="ch09qa2qe1" class="calibre4"></a></p>
         <p class="calibre17"><a id="ch09qa2q1" class="calibre4"></a><b class="calibre20">9.2 </b></p><p class="noind">Suppose you’re going camping. You have a knapsack that will hold 6 lb, and you can take the following items. Each has a value,
               and the higher the value, the more important the item is:
            </p>

            <p class="calibre17"></p>
            <ul class="calibre18">

               <li class="calibre19">Water, 3 lb, 10

               </li>

               <li class="calibre19">Book, 1 lb, 3

               </li>

               <li class="calibre19">Food, 2 lb, 9

               </li>

               <li class="calibre19">Jacket, 2 lb, 5

               </li>

               <li class="calibre19">Camera, 1 lb, 6

               </li>

            </ul>

            <p class="noind">What’s the optimal set of items to take on your camping trip?</p>

         <p class="calibre17"></p>
      </blockquote>



      <h3 id="ch09lev1sec5" class="calibre13"><a id="ch09lev1sec5__title" class="calibre3"></a>Longest common substring
      </h3>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/178fig02.jpg" alt="" class="calibre2" width="185" height="218"></p>


      <p class="noind">You’ve seen one dynamic programming problem so far. What are the takeaways?</p>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">Dynamic programming is useful <i class="calibre6">when you’re trying to optimize something given a constraint</i>. In the knapsack problem, you had to maximize the value of the goods you stole, constrained by the size of the knapsack.

         </li>

         <li class="calibre19">You can use dynamic programming when the problem can be broken into discrete subproblems, and they don’t depend on each other.

         </li>

      </ul>

      <p class="noind"><a id="iddle1156" class="calibre4"></a><a id="iddle1157" class="calibre4"></a>It can be hard to come up with a dynamic-programming solution. That’s what we’ll focus on in this section. Some general tips
         follow:
      </p>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">Every dynamic-programming solution involves a grid.

         </li>

         <li class="calibre19">The values in the cells are usually what you’re trying to optimize. For the knapsack problem, the values were the value of
            the goods.

         </li>

         <li class="calibre19">Each cell is a subproblem, so think about how you can divide your problem into subproblems. That will help you figure out
            what the axes are.

         </li>

      </ul>

      <p class="noind">Let’s look at another example. Suppose you run dictionary.com. Someone types in a word, and you give them the definition.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/179fig01.jpg" alt="" class="calibre2" width="246" height="224"></p>


      <p class="noind">But if someone misspells a word, you want to be able to guess what word they meant. Alex is searching for <i class="calibre6">fish</i>, but he accidentally put in <i class="calibre6">hish</i>. That’s not a word in your dictionary, but you have a list of words that are similar.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/179fig02.jpg" alt="" class="calibre2" width="258" height="120"></p>


      <p class="noind">(This is a toy example, so you’ll limit your list to two words. In reality, this list would probably be thousands of words.)</p>

      <p class="noind">Alex typed <i class="calibre6">hish</i>. Which word did Alex mean to type: <i class="calibre6">fish</i> or <i class="calibre6">vista</i>?
      </p>


      <h4 id="ch09lev2sec12" class="calibre22"><a id="ch09lev2sec12__title" class="calibre4"></a>Making the grid
      </h4>

      <p class="noind">What does the grid for this problem look like? You need to answer these questions:</p>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">What are the values of the cells?

         </li>

         <li class="calibre19">How do you divide this problem into subproblems?

         </li>

         <li class="calibre19">What are the axes of the grid?

         </li>

      </ul>

      <p class="noind">In dynamic programming, you’re trying to <i class="calibre6">maximize</i> something. In this case, you’re trying to find the longest substring that two words have in common. What substring do <i class="calibre6">hish</i> and <i class="calibre6">fish</i> have in common? How about <i class="calibre6">hish</i> and <i class="calibre6">vista</i>? That’s what you want to calculate.
      </p>

      <p class="noind"><a id="iddle1032" class="calibre4"></a><a id="iddle1154" class="calibre4"></a><a id="iddle1173" class="calibre4"></a>Remember, the values for the cells are usually what you’re trying to optimize. In this case, the values will probably be a
         number: the length of the longest substring that the two strings have in common.
      </p>

      <p class="noind">How do you divide this problem into subproblems? You could compare substrings. Instead of comparing <i class="calibre6">hish</i> and <i class="calibre6">fish</i>, you could compare <i class="calibre6">his</i> and <i class="calibre6">fis</i> first. Each cell will contain the length of the longest substring that two substrings have in common. This also gives you
         a clue that the axes will probably be the two words. So the grid probably looks like this.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/180fig01.jpg" alt="" class="calibre2" width="312" height="265"></p>


      <p class="noind">If this seems like black magic to you, don’t worry. This is hard stuff—that’s why I’m teaching it so late in the book! Later,
         I’ll give you an exercise so you can practice dynamic programming yourself.
      </p>



      <h4 id="ch09lev2sec13" class="calibre22"><a id="ch09lev2sec13__title" class="calibre4"></a>Filling in the grid
      </h4>

      <p class="noind">Now you have a good idea of what the grid should look like. What’s the formula for filling in each cell of the grid? You can
         cheat a little, because you already know what the solution should be—<i class="calibre6">hish</i> and <i class="calibre6">fish</i> have a substring of length 3 in common: <i class="calibre6">ish</i>.
      </p>

      <p class="noind">But that still doesn’t tell you the formula to use. Computer scientists sometimes joke about using the Feynman algorithm.
         The <i class="calibre6">Feynman algorithm</i> is named after the famous physicist Richard Feynman, and it works like this:
      </p>

      <p class="calibre17"></p>
      <ol class="calibre27">

         <li class="calibre19">Write down the problem.

         </li>

         <li class="calibre19">Think real hard.

         </li>

         <li class="calibre19">Write down the solution.

         </li>

      </ol>




      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/181fig01.jpg" alt="" class="calibre2" width="380" height="301"></p>


      <p class="noind">Computer scientists are a fun bunch!</p>

      <p class="noind">The truth is, there’s no easy way to calculate the formula here. You have to experiment and try to find something that works.
         Sometimes algorithms aren’t an exact recipe. They’re a framework that you build your idea on top of.
      </p>

      <p class="noind">Try to come up with a solution to this problem yourself. I’ll give you a hint—part of the grid looks like this.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/181fig02.jpg" alt="" class="calibre2" width="382" height="280"></p>


      <p class="noind">What are the other values? Remember that each cell is the value of a <i class="calibre6">subproblem.</i> Why does cell (3, 3) have a value of 2? Why does cell (3, 4) have a value of 0?
      </p>

      <p class="noind">Read on after you’ve tried to come up with a formula yourself. Even if you don’t get it right, my explanation will make a
         lot more sense.
      </p>




      <h4 id="ch09lev2sec14" class="calibre22"><a id="ch09lev2sec14__title" class="calibre4"></a>The solution
      </h4>

      <p class="noind"><a id="iddle1158" class="calibre4"></a><a id="iddle1287" class="calibre4"></a>Here’s the final grid.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/182fig01.jpg" alt="" class="calibre2" width="262" height="215"></p>


      <p class="noind">Here’s my formula for filling in each cell.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/182fig02.jpg" alt="" class="calibre2" width="450" height="426"></p>


      <p class="noind">Here’s how the formula looks in pseudocode:</p>

      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/182fig03_alt.jpg" alt="" class="calibre2" width="590" height="83"></p>

      <p class="noind"><a id="iddle1155" class="calibre4"></a>Here’s the grid for <i class="calibre6">hish vs. vista.</i></p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/183fig01.jpg" alt="" class="calibre2" width="261" height="290"></p>


      <p class="noind">One thing to note: for this problem, the final solution may not be in the last cell! For the knapsack problem, this last cell
         always had the final solution. But for the longest common substring, the solution is the largest number in the grid—and it
         may not be the last cell.
      </p>

      <p class="noind">Let’s go back to the original question: which string has more in common with <i class="calibre6">hish? hish</i> and <i class="calibre6">fish</i> have a substring of three letters in common. <i class="calibre6">hish</i> and <i class="calibre6">vista</i> have a substring of two letters in common.
      </p>

      <p class="noind">Alex probably meant to type <i class="calibre6">fish</i>.
      </p>



      <h4 id="ch09lev2sec15" class="calibre22"><a id="ch09lev2sec15__title" class="calibre4"></a>Longest common subsequence
      </h4>

      <p class="noind">Suppose Alex accidentally searched for <i class="calibre6">fosh</i>. Which word did he mean: <i class="calibre6">fish</i> or <i class="calibre6">fort</i>?
      </p>

      <p class="noind">Let’s compare them using the longest-common-substring formula.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/183fig02.jpg" alt="" class="calibre2" width="500" height="217"></p>


      <p class="noind"><a id="iddle1111" class="calibre4"></a>They’re both the same: two letters! But <i class="calibre6">fosh</i> is closer to <i class="calibre6">fish</i>.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/184fig01.jpg" alt="" class="calibre2" width="183" height="165"></p>


      <p class="noind">You’re comparing the longest common <i class="calibre6">substring</i>, but you really need to compare the longest common <i class="calibre6">subsequence</i>: the number of letters in a sequence that the two words have in common. How do you calculate the longest common subsequence?
      </p>

      <p class="noind">Here’s the partial grid for <i class="calibre6">fish</i> and <i class="calibre6">fosh</i>.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/184fig02.jpg" alt="" class="calibre2" width="194" height="190"></p>


      <p class="noind">Can you figure out the formula for this grid? The longest common subsequence is very similar to the longest common substring,
         and the formulas are pretty similar, too. Try to solve it yourself—I give the answer next.
      </p>



      <h4 id="ch09lev2sec16" class="calibre22"><a id="ch09lev2sec16__title" class="calibre4"></a>Longest common subsequence—solution
      </h4>

      <p class="noind">Here’s the final grid.</p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/184fig03.jpg" alt="" class="calibre2" width="500" height="271"></p>


      <p class="noind"><a id="iddle1181" class="calibre4"></a><a id="iddle1239" class="calibre4"></a>Here’s my formula for filling in each cell.
      </p>



      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/185fig01.jpg" alt="" class="calibre2" width="380" height="473"></p>


      <p class="noind">And here it is in pseudocode:</p>

      <p class="center1"><img src="/library/view/grokking-algorithms-an/9781617292231/185fig02_alt.jpg" alt="" class="calibre2" width="561" height="78"></p>

      <p class="noind">Whew—you did it! This is definitely one of the toughest chapters in the book. So is dynamic programming ever really used?
         <i class="calibre6">Yes:</i></p>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">Biologists use the longest common subsequence to find similarities in DNA strands. They can use this to tell how similar two
            animals or two diseases are. The longest common subsequence is being used to find a cure for multiple sclerosis.

         </li>

         <li class="calibre19">Have you ever used diff (like <kbd class="calibre21">git diff</kbd>)? Diff tells you the differences between two files, and it uses dynamic programming to do so.

         </li>

         <li class="calibre19">We talked about string similarity. <i class="calibre6">Levenshtein distance</i> measures how similar two strings are, and it uses dynamic programming. Levenshtein distance is used for everything from spell-check
            to figuring out whether a user is uploading copyrighted data.

         </li>

         <li class="calibre19"><a id="iddle1139" class="calibre4"></a>Have you ever used an app that does word wrap, like Microsoft Word? How does it figure out where to wrap so that the line
            length stays consistent? Dynamic programming!

         </li>

      </ul>




      <h3 id="ch09lev1sec6" class="calibre13"><a id="ch09lev1sec6__title" class="calibre3"></a>Exercise
      </h3>

      <p class="calibre17"><a id="ch09qa3" class="calibre4"></a></p>
      <blockquote class="calibre15">
         <p class="calibre17"><a id="ch09qa3qe1" class="calibre4"></a></p>
         <p class="calibre17"><a id="ch09qa3q1" class="calibre4"></a><b class="calibre20">9.3 </b></p><p class="noind">Draw and fill in the grid to calculate the longest common substring between <i class="calibre6">blue</i> and <i class="calibre6">clues</i>.
            </p>
         <p class="calibre17"></p>
      </blockquote>



      <h3 id="ch09lev1sec7" class="calibre13"><a id="ch09lev1sec7__title" class="calibre3"></a>Recap
      </h3>

      <p class="calibre17"></p>
      <ul class="calibre18">

         <li class="calibre19">Dynamic programming is useful when you’re trying to optimize something given a constraint.

         </li>

         <li class="calibre19">You can use dynamic programming when the problem can be broken into discrete subproblems.

         </li>

         <li class="calibre19">Every dynamic-programming solution involves a grid.

         </li>

         <li class="calibre19">The values in the cells are usually what you’re trying to optimize.

         </li>

         <li class="calibre19">Each cell is a subproblem, so think about how you can divide your problem into subproblems.

         </li>

         <li class="calibre19">There’s no single formula for calculating a dynamic-programming solution.

         </li>

      </ul>




      <div class="calibre16" id="calibre_pb_26"></div>
</div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">



        <a href="/library/view/grokking-algorithms-an/9781617292231/kindle_split_014.html" class="prev nav-link">

          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Chapter 8. Greedy algorithms</div>
        </a>


  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">



        <a href="/library/view/grokking-algorithms-an/9781617292231/kindle_split_016.html" class="next nav-link">

          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">Chapter 10. K-nearest neighbors</div>
        </a>


  </div>



    </section>
  </div>
<section class="sbo-saved-archives"></section>
















      </div>





  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>

        <li><a class="t-recommendations-footer" href="/r/">Recommended</a></li>

      <li>

      <a class="t-queue-footer" href="/playlists/">Playlists</a>

      </li>

        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>


        <li><a class="t-tutorials-footer" href="/tutorials/">Tutorials</a></li>

      <li><a class="t-settings-footer js-settings" href="/u/">Settings</a></li>
      <li class="full-support"><a href="https://www.safaribooksonline.com/public/support">Support</a></li>
      <li><a href="https://www.safaribooksonline.com/apps/">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2018 <a href="https://www.safaribooksonline.com" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="/privacy/">Privacy Policy</a>
  </footer>






    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>

